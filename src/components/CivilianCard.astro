---
// CivilianCard.astro
// Props: civilian (object with .data and .id)
const { civilian } = Astro.props;
---
<div class="bg-slate-700/30 border border-cyan-400/10 rounded-lg p-4 hover:bg-slate-600/30 hover:border-cyan-400/30 transition-all duration-200 group">
    <div class="flex items-start justify-between mb-3">
        <h3 class="font-semibold text-cyan-100 group-hover:text-cyan-300 transition-colors">
            <a href={`/civilians/${civilian.id}`} class="hover:underline">
                {civilian.data.name}
            </a>
        </h3>
        <div class="w-6 h-6 bg-gradient-to-br from-cyan-400/20 to-blue-400/20 rounded-full flex items-center justify-center border border-cyan-400/30">
            <span class="text-cyan-400 text-xs">ðŸ‘¤</span>
        </div>
    </div>
    <div class="space-y-2">
        <div class="flex items-center">
            <span class="text-cyan-300/70 text-xs font-medium mr-2">Status:</span> 
            <span class={`px-2 py-1 rounded-full text-xs font-medium ${
                civilian.data.status === 'alive' 
                    ? 'bg-green-400/20 text-green-300 border border-green-400/30' 
                    : 'bg-red-400/20 text-red-300 border border-red-400/30'
            }`}>
                {civilian.data.status}
            </span>
        </div>
        {civilian.data.professions && civilian.data.professions.length > 0 && (
            <div>
                <span class="text-cyan-300/70 text-xs font-medium">Profession:</span> 
                <span class="px-2 py-1 bg-blue-400/20 text-blue-300 text-xs rounded border border-blue-400/30 max-w-[120px] truncate align-middle inline-block" title={civilian.data.professions[0]}>
                    {civilian.data.professions[0]}
                </span>
                {civilian.data.professions.length > 1 && (
                    <span class="ml-2 text-xs text-cyan-300/50 align-middle">+{civilian.data.professions.length - 1} more</span>
                )}
            </div>
        )}
    </div>
</div> 